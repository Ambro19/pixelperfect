# ============================================
# PIXELPERFECT SCREENSHOT API - ENVIRONMENT TEMPLATE
# File: backend/.env.example
# Author: OneTechly
# Updated: February 2026
#
# üìã INSTRUCTIONS:
# 1. Copy this file to .env for local development
# 2. Fill in your actual values (don't use these examples!)
# 3. NEVER commit .env to git
# 4. For production, set these in Render Dashboard ‚Üí Environment
# ============================================


# ============================================================================
# SECURITY (REQUIRED)
# ============================================================================
# Generate a secure random key:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=9PVnmfn8s-iv7d-bqoWLEo0pRMd5U8LeWhYNOFD8NMcOTuxtdvMGXa24DyvovwfIyRzsNtkXucndrHWRNnx65A
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440


# ============================================================================
# DATABASE (REQUIRED)
# ============================================================================
# Local development (SQLite):
DATABASE_URL=sqlite:///./pixelperfect.db

# Production (PostgreSQL - Render provides this):
# DATABASE_URL=postgresql://pixelperfect_db_user:80SjAWDgxOYvmJkOLDVHp8tY0FaPKiwt@dpg-d5hh3995pdvs73bfejrg-a/pixelperfect_db


# ============================================================================
# ENVIRONMENT (REQUIRED)
# ============================================================================
APP_ENV=development
ENVIRONMENT=development
DEBUG=true


# ============================================================================
# URLS (REQUIRED)
# ============================================================================
# Local development:
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# Production example:
# FRONTEND_URL=https://pixelperfectapi.net
# BACKEND_URL=https://api.pixelperfectapi.net


# ============================================================================
# CORS ORIGINS (REQUIRED)
# ============================================================================
# Comma-separated list of allowed origins
# Local development:
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://192.168.1.185:3000

# Production example (include both www and non-www):
# CORS_ORIGINS=https://pixelperfectapi.net,https://www.pixelperfectapi.net


# ============================================================================
# STRIPE PAYMENT INTEGRATION (OPTIONAL)
# ============================================================================
# Test keys for development:
STRIPE_SECRET_KEY=sk_test_your_test_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_test_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Live keys for production (use when ready):
# STRIPE_SECRET_KEY=sk_live_your_live_key_here
# STRIPE_PUBLISHABLE_KEY=pk_live_your_live_key_here
# STRIPE_WEBHOOK_SECRET=whsec_your_live_webhook_secret


# ============================================================================
# STRIPE PRICE LOOKUP KEYS - MONTHLY (OPTIONAL)
# ============================================================================
# These must match your Stripe Product price lookup keys
STRIPE_PRO_LOOKUP_KEY=pixelperfect_pro_monthly
STRIPE_BUSINESS_LOOKUP_KEY=pixelperfect_business_monthly
STRIPE_PREMIUM_LOOKUP_KEY=pixelperfect_premium_monthly


# ============================================================================
# STRIPE PRICE LOOKUP KEYS - ANNUAL (OPTIONAL)
# ============================================================================
# Create these in Stripe Dashboard ‚Üí Products ‚Üí Add lookup key
STRIPE_PRO_ANNUAL_LOOKUP_KEY=pixelperfect_pro_annual
STRIPE_BUSINESS_ANNUAL_LOOKUP_KEY=pixelperfect_business_annual
STRIPE_PREMIUM_ANNUAL_LOOKUP_KEY=pixelperfect_premium_annual


# ============================================================================
# FILE STORAGE (OPTIONAL)
# ============================================================================
# Local development:
STORAGE_TYPE=local
FILE_RETENTION_DAYS=7

# Production with Cloudflare R2:
# STORAGE_TYPE=r2
# R2_ENDPOINT_URL=https://10fc24d6358c68244cc85639b06feec6.r2.cloudflarestorage.com
# R2_ACCESS_KEY_ID=39b851e484712a6ac7b1e1c1bc9a3a6f
# R2_SECRET_ACCESS_KEY=932e7b1dcac96cbaed30b73043481aff65e5110c747e31fcdf76385ada4f52a
# R2_BUCKET_NAME=pixelperfect-screenshots



# ============================================================================
# CONTACT FORM (OPTIONAL)
# ============================================================================
CONTACT_RECIPIENT=your-email@example.com
CONTACT_FROM=no-reply@example.com


# ============================================================================
# RATE LIMITING (OPTIONAL)
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_FREE_TIER=120


# ============================================================================
# TIER LIMITS - Backend Enforcement (OPTIONAL)
# ============================================================================
# These should match your frontend tier limits

# Free Tier
FREE_SCREENSHOTS_LIMIT=100
FREE_BATCH_LIMIT=0

# Pro Tier
PRO_SCREENSHOTS_LIMIT=5000
PRO_BATCH_LIMIT=50

# Business Tier
BUSINESS_SCREENSHOTS_LIMIT=50000
BUSINESS_BATCH_LIMIT=100

# Premium Tier
PREMIUM_SCREENSHOTS_LIMIT=999999999
PREMIUM_BATCH_LIMIT=999999999


# ============================================================================
# LOGGING (OPTIONAL)
# ============================================================================
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG
UVICORN_LOG_LEVEL=info


# ============================================================================
# ERROR TRACKING (OPTIONAL)
# ============================================================================
# Sentry integration for production error tracking:
# SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
# SENTRY_ENVIRONMENT=production


# ============================================================================
# NOTES
# ============================================================================
#
# üîê SECURITY REMINDERS:
#   - SECRET_KEY: Generate with python -c "import secrets; print(secrets.token_urlsafe(32))"
#   - Never commit .env or .env.production to git
#   - Add .env to .gitignore
#   - Rotate SECRET_KEY periodically in production
#   - Use Stripe test keys until ready for real payments
#
# üìù REQUIRED FOR BASIC FUNCTIONALITY:
#   - SECRET_KEY
#   - DATABASE_URL
#   - FRONTEND_URL
#   - BACKEND_URL
#
# üöÄ RENDER DEPLOYMENT:
#   - Set all variables in Render Dashboard ‚Üí Environment
#   - DATABASE_URL is provided automatically by Render PostgreSQL
#   - Use .env.production as reference for production values
#
# üß™ LOCAL DEVELOPMENT:
#   1. Copy this file: cp .env.example .env
#   2. Update values (especially SECRET_KEY)
#   3. Install Playwright browsers: python -m playwright install --with-deps chromium
#   4. Install Pillow: pip install Pillow (already in requirements.txt)
#   5. Run: python main.py or uvicorn main:app --reload
#
# ============================================================================
